# 一、对象概述

##  1.1 什么是对象

对象是一个**具体的事物**，比如：一本书、一辆车等。在现实生活中，可以说万物皆对象。

在 JavaScript 中，对象是一组无序的相关属性和方法的集合。对象属性复杂数据类型。

* 属性：事物的**特征**，在对象中用属性来表示(常用名称)
* 方法：事物的**行为**，在对象中用方法来表示(常用动词)

使用对象可以让代码结构更清晰

## 1.2 为什么需要对象

根据以前经验，保存一个值时，可以使用变量，保存多个值时，可以使用数组。但如果要保存一个物体的完整信息的话，变量和数组就都不太合适了。

JavaScript 中的对象表达结构清晰，比如保存一个人的信息。

```javascript
person.name = '张三';
person.sex = '男';
person.age = '20';
person.height = 178;
```

## 1.3 一个简单的对象

```javascript
var obj = {
  uname: '张三',
  sing: function () {
    console.log('la...la...la...');
  }
};
```

对象具有属性和方法。其中属性与以前学习的变量比较类似，方法与函数比较类似。

* 属性与变量的比较
  * 相同点：都是用来存储数据
  * 不同点：
    * 变量：单独声明并赋值，单独使用，单独存在
    * 属性：存在于对象中，不需要声明，必须使用对象调用
* 方法与函数的比较
  * 相同点：都是实现某种功能
  * 不同点：
    * 函数：单独声明并赋值，单独使用，单独存在
    * 方法：存在于对象中，必须使用对象调用

# 二、创建对象的三种方式

在 JavaScript 中，可以使用三种方式创建对象：

* 利用**字面量**创建对象
* 利用**`new Object()`**创建对象
* 利用构造函数创建对象

## 2.1 利用字面量创建对象

对象字面量：就是使用 {} 里面包含了表达这个具体事物属性和方法。

{} 里面的内容采取**键值对**的列式。

* 键：属性名或方法名
* 值：属性值或方法函数

```javascript
// 创建一个空对象
var obj1 = {};
// 创建一个有属性和方法的对象
var obj = {
  uname: '张三',
  age: 19,
  sex: '男',
  sing: function () {
    console.log('la...la...la...');
  }
};
```

> 注意:
>
> 1. 对象中的属性和方法以键值对的列式出现。
> 2. 多个属性或方法用逗号隔开。
> 3. 方法的冒号后面是一个匿名函数。

## 2.2 利用 new Object() 创建对象

这种方式与数组中的使用 new Array() 创建数组一样。

```javascript
// 1.创建一个对象
var obj = new Object();
// 2.给对象添加属性和方法
obj.uname = '李四';
obj.age = 19;
obj.sex = '女';
obj.sing = function () {
  console.log('la...la...la...');
}
```

1. 这里给对象添加属性和方法时，采用的是等号赋值的方式
2. 每一次赋值操作是一条语句，用分号或换行隔开

## 2.3 利用构造函数创建对象

### 2.3.1 构造函数的概念

JavaScript 中的构造函数有点类似 Java 中的类定义与构造函数定义的结合体。因为在 JavaScript 中没有单独的类的定义，它是一个基于对象的语言，而不是面向对象。

格式：

```javascript
function 构造函数名(属性值1, 属性值2, ... ) {
    this.属性名1 = 属性值1;
    this.属性名2 = 属性值2;
    ...
    this.方法名1 = function() {
        //....
    }
    this.方法名2 = function() {
        //....
    }
    ...
}
```

比如要创建歌星的构造函数

```javascript
function Star (name, age, sex) {
  this.name = name;
  this.age = age;
  this.sex = sex;
  this.sing = function (song) {
    console.log(song);
  }
}
```

使用构造函数创建对象时：

```javascript
new 构造函数名()
```

这里的构造函数名约定俗成使用首字母大写，如：

```javascript
var ldh = new Star('刘德华', 45, '男', '冰雨')
```

利用构造函数创建对象的过程也叫对象的实例化，这里与 java 比较类似。我们可以使用`console.log(ldh)`可以看到到输出的结果：

```javascript
Star {name: '刘德华', age: 45, sex: '男', sing: ƒ}
```

可以理解为创建的对象是 Star 类的一个实例，虽然 JavaScript 中没有类的概念。

### 2.3.2 为什么要使用构造函数

如果采用字面量或 new Object 创建对象，当多个类似的对象时，也只能采用复制的方式。

构造函数就相当于是把这些重复类似的代码抽取出来封装到一个函数里面。

### 2.3.3 构造函数的使用

1. 构造函数名字首字母大写
2. 不需要 return 就可以返回结果
3. 调用构造函数时需要使用关键字 new
4. 为属性和方法赋值时要使用 this 指向被赋值的对象

### 2.3.4 使用构造函数创建对象的过程

1. 在内存中使用 new 关键字创建一个空对象
2. 用 this 指向这个对象
3. 执行构造函数里面的代码，通过 this 给这个空对象添加属性和方法
4. 返回构造好的对象(因为构造好后，就可以自动返回，所以不需要 return 关键字)

# 三、对象的使用

* 对象里面的属性的调用：`对象名.属性名`

  ```javascript
  console.log(obj.uname);
  ```

* 属性的另一种调用方式：`对象名['属性名']`，注意，这里方括号里面的属性名必须加引号

  ```javascript
  console.log(obj['age']);
  ```

* 对象里面方法的调用：`对象名.方法名()`，由于方法的本质也是一个函数，所以调用时需要加上一个小括号

  ```javascript
  obj.sing();
  ```

# 四、对象属性的遍历

使用 for ... in 语句来对对象或数组的属性进行循环遍历操作。

```javascript
for (var k in ldh) {
  console.log(k);
  console.log(ldh[k]);
}
```

这里的 k 或 key 代表对象的属性名，如果要取得属性值，可以使用 `对象名[属性名]`这种方式，这里的属性名就不需要加引号了，因为这是一个变量。